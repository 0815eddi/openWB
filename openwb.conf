#Globales Config File für die Regelanylse

#Enable debug mode, extra Ausgaben zur Fehleranalyse
debug=0


#Minimal mögliche Ladeleistung in A(nur höher Stellen wenn das Fahrzeug Probleme bereitet)
#Einstellbar von 6-10
minimalstromstaerke=6

#Maximal erlaubte Ladeleistung in A. Als Beispiel: 16A entspricht einphasig 3,6kw, 3-phasig 11kw, Abhängig von genutzter Verkabelung (Querschnitt) etc..
#Einstellbar von 10-32
maximalstromstaerke=32


#################################################################

#Regeleung der EVSE
#moegliche Werte: dac, modbusevse
evsecon=dac

#bei dac, dac register (siehe sudo i2cdetect -y 1) angeben. fuer 0x62 z.B. 62 eingeben
dacregister=62

#bei modbusevse die quelle (serieller port)
modbusevsesource=/dev/ttyUSB0
#modbus id der evse
modbusevseid=2
modbusevselanip=192.168.2.10

evsecons1=modbusevse
evsesources1=/dev/virtualcom1
evseids1=1
evselanips1=10.20.0.180
sdmids1=5
ladeleistungs1modul=sdm630modbuslls1

#lastmanagement
lastmanagement=1
lastmmaxw=15000



#################################################################
# Modulauswahl für den Strombezug/Einspeisung am Übergabepunkt.
# Das Modul selbst muss noch konfiguriert werden
wattbezugmodul=vzlogger

#Einstellungen für Modul vzlogger
#VZlogger ip
vzloggerip=10.20.0.51:8080
vzloggerline=13
vzloggerkwhline=25
vzloggerekwhline=37
#Einstellungen für Modul sdm630modbusbezug
# Modbus ID des sdm
sdm630modbusbezugid=1
# Serieller Port. Bei USB-RS485 Adapter meist /dev/tty/USB0
sdm630modbusbezugsource=/dev/ttyUSB0
# Port lokal für für das gonium tool. Darf sich nicht mit anderen Gonium Instanzen ueberschneiden.
sdm630modbusbezuglanip=10.20.0.180



#################################################################
# Modulauswahl für den PV Wechselrichter
# Mögliche Werte: wr_fronius, none
# Das Modul selbst muss noch konfiguriert werden
pvwattmodul=wr_fronius

#wr fronius ip
wrfroniusip=10.20.0.126
sdm630modbuswrsource=/dev/virtualcom2
sdm630modbuswrlanip=192.168.0.24
sdm630modbuswrid=3

vzloggerpvip=10.20.0.51:8080
vzloggerpvline=13




#################################################################
# Modulauswahl für die Ladeleistung
# Die Ladeleistung wird benötigt für die Überschussregelberechnung, sprich wieviel kw zieht die Wallbox effektiv
# Hierfür wird die voreingestellte Stromstärke genommen, ebenso die gemessene Leistung. Daraus ergibt sich mit wievielen Phasen geladen wird.
# Mögliche Werte: sdm630modbusll, none
ladeleistungmodul=sdm630modbusll

#Einstellungen für Modul sdm630modbusll
# Modbus ID des sdm
sdm630modbusllid=1
# Serieller Port. Bei USB-RS485 Adapter meist /dev/tty/USB0
#fuer Verbindungen ueber Lan Konverter muss die source /dev/virtualcomX (0,1,usw..) sein
sdm630modbusllsource=/dev/ttyUSB0
#bei Verbindung über Lan Konverter
sdm630modbuslllanip=10.20.0.180
#beim Wechsel von source einstellungen oder von ttyUSB auf virtualcom0 ist ein neustart des raspberry erforderlich.



##################################################################

# Modulauswahl für den SOC des Fahrzeugs.
# wird kein SOC ausgelesen Wert auf "none" setzen
# Mögliche Wete: none,soc_http
socmodul=soc_http

hsocip=10.0.0.110/soc.txt



#Nachtlademodus
# Geladen wird in der Zeit von 22 bis 7 Uhr (Beispiel) bis xx% soc, ist Soc Modul none (also keines vorhanden) wird durchgehend in der Zeit geladen
# Soll nachts geladen werden? (wert 0 oder 1)
nachtladen=1
# Ladeleistung für die Nacht (Wert 6-32) wobei 6 = 6A und 32 = 32A maximale WB Leistung ist
nachtll=26
# Ab wieviel Uhr abends soll geladen werden? (17-23 Uhr möglich, angabe in Stunden)
nachtladenabuhr=20
# Bis wieviel Uhr morgens soll geladen werden? (01-10 Uhr möglich, angabe in Stunden)
nachtladenbisuhr=6
# Sofern Soc ausgelesen wird, bis wieviel % SOC laden?
nachtsoc=65


#Uberschussregelung
# Mindestuberschuss in Watt im Haus damit die Ladung gestartet wird
# Die Kombination aus mindestuberschuss und abschaltuberschuss sollte sinnvoll gewählt werden.
# Ansonsten wird im 10 Sekunden Takt die Ladung gestartet und gestoppt.
# Es macht z.B. 1320 Watt mindestuberschuss und 900 Watt abschaltuberschuss Sinn
mindestuberschuss=1320

# Ab wieviel Watt Bezug soll abgeschaltet werden.
# Zunächst wird in jedem Zyklus die Ladeleistung Stufenweise bis auf 6A reduziert. Danach greift die Abschaltung.
# Sprich bis wieviel Watt soll bei 1320w Ladeleistung Netzbezug erlaubt sein
# Beispiel, bei 900 (watt) wird bei 1320w Ladeleistung 420Watt aus dem Netz bezogen. Werden mehr als 420 Watt bezogen, wird die Ladung gestoppt
# Der Wert ist für 1phasiges laden. Bei 3phasigem laden verdreifacht sich der Wert(automatisch). z.B. bei 900 Watt ergibt das bei 3960Watt Ladeleistung ein (erlaubter) Netzbezug bis 1260W
# Bei einem abschaltuberschuss von 0 wird erst abgeschaltet wenn Bezug über 1320w bzw 3960w (3phasig) geht
# Bei einem abschaltuberschuss von 1320 wird abgeschaltet sobald mehr als 1w aus dem Netz bezogen wird
abschaltuberschuss=550


# Der Modi Sofort Laden lädt immer mit der vorgegebenen Ladeleistung
# Mögliche Werte: 6-32 (A)
sofortll=27


